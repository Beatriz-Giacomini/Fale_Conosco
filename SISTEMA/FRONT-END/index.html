<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fale Conosco</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container-contato">
        <!--Lado Esquerdo-->
        <div class="esquerdo">
            <img src="Protótipo do CyberGuardiões.png" alt="" width="250px" height="auto">
            <h3>FUNCIONAMENTO</h3>
            <p>SEG. A SEX.: 08h à 15h <br> SAB.: 09h à 12h</p>
        </div>
    
        <!--Lado Direito-->
        <div class="direito">
            <h1 class="contato">FALE CONOSCO</h1>
    
            <div class="linha-dupla">
                <div class="form-control">
                    <input type="text" id="nome" required="">
                    <label>
                        <span style="transition-delay:0ms">N</span><span style="transition-delay:50ms">o</span><span style="transition-delay:100ms">m</span><span style="transition-delay:150ms">e</span>
                    </label>
                </div>
    
                <div class="form-control">
                    <input type="email" id="email" required="">
                    <label>
                        <span style="transition-delay:0ms">E</span><span style="transition-delay:50ms">-</span><span style="transition-delay:100ms">m</span><span style="transition-delay:150ms">a</span><span style="transition-delay:200ms">i</span><span style="transition-delay:250ms">l</span>
                    </label>
                </div>
            </div>
    
            <div class="form-control telefone">
                <input type="text" id="telefone" required="">
                <label>
                    <span style="transition-delay:0ms">T</span><span style="transition-delay:50ms">e</span><span style="transition-delay:100ms">l</span><span style="transition-delay:150ms">e</span><span style="transition-delay:200ms">f</span><span style="transition-delay:250ms">o</span><span style="transition-delay:300ms">n</span><span style="transition-delay:350ms">e</span>
                </label>
            </div>
    
            <div class="form-control">
                <input type="text" id="assunto" required="">
                <label>
                    <span style="transition-delay:0ms">A</span><span style="transition-delay:50ms">s</span><span style="transition-delay:100ms">s</span><span style="transition-delay:150ms">u</span><span style="transition-delay:200ms">n</span><span style="transition-delay:250ms">t</span><span style="transition-delay:300ms">o</span>
                </label>
            </div>
    
            <div class="form-group">
                <label for="mensagem">Mensagem</label>
                <textarea required="" cols="50" rows="10" id="mensagem" name="mensagem"></textarea>
            </div>
    
            <button type="button" class="form-submit-btn" id="btn_enviar">Enviar</button>
    
            <p class="resultado" id="resultado">O resultado irá aparecer aqui</p>
        </div>
    </div>
    
</body>
<script>
document.getElementById("btn_enviar").addEventListener("click", async () =>{
    const nome = document.getElementById("nome").value
    const email = document.getElementById("email").value
    const telefone = document.getElementById("telefone").value
    const assunto = document.getElementById("assunto").value
    const mensagem = document.getElementById("mensagem").value
   
    const resposta = await fetch(`http://localhost:3000/faleconosco`, {  
        method:"POST",
        headers:{
            "Accept":"application/json",
            "Content-Type":"application/json"
        },
        body:JSON.stringify({
            "nome":nome,
            "email":email,
            "telefone":telefone,
            "assunto":assunto,
            "mensagem":mensagem
        })
    })

    if(resposta.ok == true){
        const dados = await resposta.json()
        document.getElementById("resultado").innerText = dados.resposta
    }else{

    }
})


</script>

</html>
